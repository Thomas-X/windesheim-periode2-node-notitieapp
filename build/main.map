{"version":3,"sources":["webpack:///webpack/bootstrap a0fb1ceea3ae8ab88185","webpack:///external \"apollo-server-express\"","webpack:///./src/index.js","webpack:///external \"dotenv\"","webpack:///./src/getServerData.js","webpack:///external \"merge-graphql-schemas\"","webpack:///external \"path\"","webpack:///./src/schema/schema.js","webpack:///./src/resolvers/index.js","webpack:///./src/resolvers/resolvers/Person.js","webpack:///external \"express\"","webpack:///./src/connector/DB.js","webpack:///external \"mongoose\"","webpack:///external \"lowdb\"","webpack:///external \"lowdb/adapters/FileSync\""],"names":["require","config","db","defaults","persons","count","write","resolvers","schema","getServerData","server","ApolloServer","typeDefs","app","express","get","req","res","send","applyMiddleware","port","listen","console","log","graphqlPath","gql","Query","getPerson","Person","getPersons","Mutation","createPerson","updatePerson","deletePerson","obj","id","context","info","filter","first","value","DB","connect","adapter","FileSync","lowdb","connectMongo","DB_DIALECT","DB_PORT","DB_HOST","DB_NAME","process","env","mongoose"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a0fb1ceea3ae8ab88185","module.exports = require(\"apollo-server-express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"apollo-server-express\"\n// module id = 0\n// module chunks = 0","// load .env file into process.env global\nrequire('dotenv').config();\nimport getServerData from './getServerData';\nimport express from 'express';\nimport {ApolloServer, gql} from 'apollo-server-express';\n\n// init lowdb singleton\nimport db from './connector/DB';\n\ndb.defaults({\n\tpersons: [],\n\tcount: 0\n})\n\t.write();\n\nconst {resolvers, schema} = getServerData();\nconst server = new ApolloServer({typeDefs: schema, resolvers});\n\nconst app = express();\n\n// { type: 'Query', query: '{}{}DAS{D{A}' }\n// /graphql\n// dds\n// /persons/getNamesFromPersons\n\napp.get('/world', (req,res) => res.send('hi!!'));\n\nserver.applyMiddleware({app});\n\nconst port = 4000;\n\napp.listen({port}, () => {\n\t\tconsole.log(`ðŸš€ Server ready at http://localhost:${port}${server.graphqlPath}`)\n\t}\n);\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"dotenv\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"dotenv\"\n// module id = 3\n// module chunks = 0","import {fileLoader, mergeResolvers, mergeTypes} from \"merge-graphql-schemas\";\nimport * as path from \"path\";\nimport schema from './schema/schema';\nimport resolvers from './resolvers/index';\n\n\nexport default () => {\n\t// remove merged graphql schema for simplicity\n\t// const types = mergeTypes(fileLoader(`${path.resolve('./src/types')}/**/*.{graphql,gql}`));\n\n\t// this way is more convenient since we don't have to keep track of our /src/resolvers/index.js file but\n\t// it forces us to use the syntax supported by the current node version. because webpack doesn't transpile non-imported/required files.\n\t// const resolvers = mergeResolvers(allResolvers);\n\treturn { schema, resolvers};\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/getServerData.js","module.exports = require(\"merge-graphql-schemas\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"merge-graphql-schemas\"\n// module id = 5\n// module chunks = 0","module.exports = require(\"path\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"path\"\n// module id = 6\n// module chunks = 0","import { gql } from 'apollo-server-express';\n\nconst schema = gql`\n\ttype Person {\n\t\tname: String!,\n\t\tdateofbirth: String!\n\t}\n\t\n\ttype Query {\n\t\tgetPerson(id: Int!): Person,\n\t\tgetPersons: [Person],\n\t}\n\t\n\ttype Mutation {\n\t\tcreatePerson: Boolean!,\n\t\tupdatePerson: Boolean!,\n\t\tdeletePerson: Boolean!,\n\t}\n`;\n\nexport default schema;\n\n\n// WEBPACK FOOTER //\n// ./src/schema/schema.js","import Person from \"./resolvers/Person\";\n\nexport default {\n\tQuery: {\n\t\tgetPerson: Person.getPerson,\n\t\tgetPersons: Person.getPersons,\n\t},\n\tMutation: {\n\t\tcreatePerson: Person.createPerson,\n\t\tupdatePerson: Person.updatePerson,\n\t\tdeletePerson: Person.deletePerson,\n\t}\n};\n\n\n// WEBPACK FOOTER //\n// ./src/resolvers/index.js","import db from '../../connector/DB';\n\nclass Person {\n\n\tgetPerson = (obj, {id}, context, info) => {\n\t\treturn db.get('persons')\n\t\t\t.filter({id})\n\t\t\t.first()\n\t\t\t.value();\n\t};\n\n\tgetPersons = () => {\n\t\treturn db.get('persons')\n\t\t\t.value()\n\t};\n\n\tcreatePerson = () => {\n\n\t};\n\n\tupdatePerson = () => {\n\n\t};\n\n\tdeletePerson = () => {\n\n\t}\n}\n\n// export as singleton\nexport default new Person();\n\n\n// WEBPACK FOOTER //\n// ./src/resolvers/resolvers/Person.js","module.exports = require(\"express\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"express\"\n// module id = 10\n// module chunks = 0","import mongoose from 'mongoose';\nimport lowdb from 'lowdb';\nimport FileSync from 'lowdb/adapters/FileSync';\n\nclass DB {\n\tconnect = () => {\n\t\tconst adapter = new FileSync('db.json');\n\t\treturn lowdb(adapter)\n\t};\n\n\tconnectMongo = () => {\n\t\tconst {DB_DIALECT, DB_PORT, DB_HOST, DB_NAME} = process.env;\n\t\tmongoose.connect(`${DB_DIALECT}://${DB_HOST}:${DB_PORT}/${DB_NAME}`);\n\t}\n}\n\nexport default (\n\tnew DB()\n)\n\t.connect();\n\n\n// WEBPACK FOOTER //\n// ./src/connector/DB.js","module.exports = require(\"mongoose\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"mongoose\"\n// module id = 12\n// module chunks = 0","module.exports = require(\"lowdb\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lowdb\"\n// module id = 13\n// module chunks = 0","module.exports = require(\"lowdb/adapters/FileSync\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lowdb/adapters/FileSync\"\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}